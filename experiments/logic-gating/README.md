
# Logic gating

Logic gating (wrt. clock gating) is a technique used to reduce
toggling (and so energy consumption) in digital logic circuits.
- If I have an an ALU with two functions, ADD or XOR, then I don't
  want the adder to toggle needlessly (and leak) when using the XOR
  function.
- I then bitwise AND the inputs to the adder (*higher up*) in the circuit
  with the `add_select` bit. This zeros the inputs the adder, preventing
  downstream toggling from glitches.

Questions:
1. How does logic gating effect leakage?
2. If how logic gating changes the leakage is understood, can we exploit
   this?

Hypothesis 1: The "noise" generated by un-used computations will reduce
leakage.

Hypothesis 2: The extra toggling will cause *more* leakage, if that toggling
can be modelled.

---

# Experiments:

This experiment is nigh on impossible to do on an ASIC, since
we have no idea what is and is not logic gated.
Such an experiment would only really be possible on the in-house
CPU core, which we have lots of knowledge (and *understanding*) about, and
which can be modified as needed.

Setup:
- Identify parts of the CPU which are amenable to logic gating:
  - This can be guided by analysing waveforms of a target application, and
    noting which signals have the highest probability of toggling per
    clock cycle.
  - It can also be done simply by observing where in the CPU the same data
    feeds mutually exclusive logic blocks.
- Having identified a managable number of blocks (N=~3) suitable for gating,
  create a set of implementation parameters allowing gating to be turned on
  or off easily.

Experiment:
- For each combination of logic gate enable parameters:
  - Capture the area / timing impact
  - Perform a standard t-test on some code kernel (1 AES round?)
- Compare average / peak leakage across parameters
  - Which parameter values corrolate with high/low leakage.

---

[Back Home](../../README.md)
