{% extends 'master.html' %}

{% block header %}
<h1>{% block title %}Experiment results{% endblock %}</h1>
{% endblock %}

{% macro trace_type_table(type, label) %}
{% set tracelist = results.getTracesOfType(type) %}
{% if tracelist | length > 0 %}
{% for trace in tracelist | sort %}
<tr>
<td>{{label}}</td>
<td>
<a href="{{url_for("experiments.download_trace",catagory=experiment.catagory,experiment_name=experiment.shortname,target_name=target.name,trace_name=trace.name)}}">
{{trace.name}}
</a>
</td>
<td>
<a href="{{url_for("plot.plot_single_trace",catagory=experiment.catagory,experiment_name=experiment.shortname,target_name=target.name,trace_name=trace.name)}}">Plot</a>,
<a href="{{url_for("plot.compare_trace",catagory=experiment.catagory,experiment_name=experiment.shortname,target1=target.name,trace_name=trace.name)}}">Compare</a>
</td>
</tr>
{% endfor %}
{% endif %}
{% endmacro %}


{% block content %}

<p>
    <b>Device:</b>
    <a href="{{url_for("targets.target_landing_page",target_name=target.target_name)}}">{{target.target_name}}</a> - 
    {{target.target_description}}
</p>
<p>
    <b>Experiment:</b>
    <a href="{{url_for("experiments.experiment_landing_page",catagory=experiment.catagory,experiment_name=experiment.shortname)}}">{{experiment.name}}</a><br/>
</p>


<h2>Experiment Traces:</h2>

<table class="list_table">
<tr>
<td>Trace Type</td>
<td>Trace Name</td>
<td>Actions</td>
</tr>
{{ trace_type_table("ttrace","T-Statistic Trace") }}
{{ trace_type_table("cpa-hd","CPA Hamming Distance") }}
{{ trace_type_table("cpa-hw","CPA Hamming Weight") }}
{{ trace_type_table("avg","Average Trace") }}
{{ trace_type_table("std","Standard Deviation") }}
{{ trace_type_table("rng","Range") }}
{{ trace_type_table("min","Min Trace") }}
{{ trace_type_table("max","Max Trace") }}
</table>

{% endblock %}



